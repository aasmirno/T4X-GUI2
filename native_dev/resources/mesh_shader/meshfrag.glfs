// mesh fragment shader
#version 420 core

uniform sampler2D texture0;
uniform float ambient_level = 0.1;

in vec2 TexCoord;
in vec4 Normal;
in vec3 FragPos;
in vec3 LightPos;

out vec4 frag_color;

void main()
{
    vec3 ambient = ambient_level * vec3(1.0, 1.0, 1.0);

    vec3 lightDir = normalize(LightPos - FragPos);  
    float diff = max(dot(Normal.xyz, lightDir), 0.0);
    vec3 diffuse = diff * vec3(1.0, 1.0, 1.0);

    vec4 lighting = vec4( (ambient + diffuse) , 1.0);
    frag_color = lighting * texture(texture0, TexCoord);
}